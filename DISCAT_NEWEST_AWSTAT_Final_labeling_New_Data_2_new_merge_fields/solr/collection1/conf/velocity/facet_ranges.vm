#**
 *  Display facets based on ranges of values, AKA "Bukets"
 *  e.g.: ranges specified by &facet.range=
 *#

#if($queryOpts == "spatial")

<h2 #annTitle("Facets generated by adding &facet.range= to the request")>
  ##Range Facets
##<a href="http://localhost:8983/solr/browse?q=$!esc.html($params.get('q'))&fl=*&wt=csv">Download results</a>
<a href="#{url_for_solr}/browse?q=$!esc.html($params.get('q'))&fl=Location_in_Work,Call_Number,Extent_of_Work,Series_Volume_ID,Subsidiary_Author_Role,Reprint_Status,Author_Monographic,Monographic_Connective_Phrase,Keywords,Analytic_Medium_Designator,Size,Analytic_Author_Role,Author_Subsidiary,Title_Analytic,Notes,Date_of_Publication,Date_of_Publication_new,is_dt_available,Monographic_Medium_Designator,Document_Type,ISBN,Journal_Title,Issue_ID,Reproduction_Ratio,Series_Editor_Role,Packaging_Method,Place_of_Meeting,Monographic_Author_Role,Series_Issue_ID,Availability,Analytic_Connective_Phrase,Date_of_Copyright,Report_ID,Author_Affiliation,Author_Analytic,Title,Volume_ID,Place_of_Publication,CODEN,Series_Title,ISSN,Edition,Workform,Title_Monographic,Publisher_Name,Location_URL,Abstract,Series_Editor&wt=csv&rows=$page.results_found">Download results</a>
</h2>

#end

##foreach ($field in $response.response.facet_counts.facet_ranges)
  ## Hide facets without value
  ##if($field.value.counts.size() > 0)
	##set($name = $field.key)
	##set($display = $name)
	##set($f = $field.value.counts)
	##set($start = $field.value.start)
	##set($end = $field.value.end)
	##set($gap = $field.value.gap)
	##set($before = $field.value.before)
	##set($after = $field.value.after)
	##display_facet_range($f, $display, $name, $start, $end, $gap, $before, $after)
  ##end  ## end if has any values
##end    ## end for each facet range
